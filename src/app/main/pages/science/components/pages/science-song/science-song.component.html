<div class="container" *ngIf="selectedSong$ | async as song">

  <section class="song" *ngIf="song.id">

    <app-breadcrumbs></app-breadcrumbs>
<!--    <pre>{{song | json}}</pre>-->
    <div class="song__box song__header">
      <div class="song__carousel">
        <div class="song__carousel-box">
          <div class="song__carousel-img" *ngFor="let photo of photos; let i = index" [ngClass]="{ 'active': i === slideIndex }">
            <img [src]="photo.url" [alt]="photo.alt">
          </div>
        </div>
        <div class="song__carousel-info">
          <p><span>{{ slideIndex + 1 }}/{{ photos.length }}</span>  {{ 'science.song-page.header.photos' | translate }}</p>
        </div>
        <div class="song__carousel-nav">
          <button class="song__carousel-prev" (click)="prevSlide()" [ngClass]="{ 'disabled': slideIndex === 0 }">
            <svg width="40" height="40" viewBox="0 0 48 48">
              <use xlink:href="./assets/sprites.svg#sharedArrow"></use>
            </svg>
          </button>
          <button class="song__carousel-next" (click)="nextSlide()" [ngClass]="{ 'disabled': slideIndex === photos.length - 1 }">
            <svg width="40" height="40" viewBox="0 0 48 48">
              <use xlink:href="./assets/sprites.svg#sharedArrow"></use>
            </svg>
          </button>
        </div>
      </div>
      <div class="song__player">
        <h1 class="song__title">{{ song.title }}</h1>
        <p class="song__player-genre">{{ song.details.poetic_text_genre }}</p>
        <div class="song__player-desctop">
          <app-stereo-player></app-stereo-player>

          <app-multichanel-player></app-multichanel-player>

          <div class="song__player-btns">
            <button class="song__player-download">
              <svg width="24" height="24">
                <use xlink:href="./assets/sprites.svg#download"></use>
              </svg>
              {{ 'science.song-page.header.download' | translate }}
            </button>
            <div class="song__share">
              <span class="song__share-title">{{ 'science.song-page.header.share' | translate }} </span>
              <div class="song__share-links">
                <a href="#" class="song__share-link">
                  <svg width="24" height="24">
                    <use xlink:href="./assets/sprites.svg#fbNews"></use>
                  </svg>
                </a>
                <a href="#" class="song__share-link">
                  <svg width="24" height="24">
                    <use xlink:href="./assets/sprites.svg#instNews"></use>
                  </svg>
                </a>
                <a href="#" class="song__share-link">
                  <svg width="24" height="24">
                    <use xlink:href="./assets/sprites.svg#tgNews"></use>
                  </svg>
                </a>
                <a href="#" class="song__share-link">
                  <svg width="24" height="24">
                    <use xlink:href="./assets/sprites.svg#copyNews"></use>
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="song__player-mobile">
      <app-stereo-player></app-stereo-player>

      <app-multichanel-player></app-multichanel-player>

      <div class="song__player-btns">
        <button class="song__player-download">
          <svg width="24" height="24">
            <use xlink:href="./assets/sprites.svg#download"></use>
          </svg>
          {{ 'science.song-page.header.download' | translate }}
        </button>
        <div class="song__share">
          <span class="song__share-title">{{ 'science.song-page.header.share' | translate }} </span>
          <div class="song__share-links">
            <a href="#" class="song__share-link">
              <svg width="24" height="24">
                <use xlink:href="./assets/sprites.svg#fbNews"></use>
              </svg>
            </a>
            <a href="#" class="song__share-link">
              <svg width="24" height="24">
                <use xlink:href="./assets/sprites.svg#instNews"></use>
              </svg>
            </a>
            <a href="#" class="song__share-link">
              <svg width="24" height="24">
                <use xlink:href="./assets/sprites.svg#tgNews"></use>
              </svg>
            </a>
            <a href="#" class="song__share-link">
              <svg width="24" height="24">
                <use xlink:href="./assets/sprites.svg#copyNews"></use>
              </svg>
            </a>
          </div>
        </div>
      </div>

    </div>
    <div class="song__box song__text">
      <div></div>
      <div class="song__text-box">
        <div class="song__text-content" [innerHTML]="song.media && song.media.text ? song.media.text : 'No text available'"></div>
      </div>
    </div>
    <div class="song__box song__info">
      <div class="song__info-titles">
        <h4 class="song__title-sub">{{ 'science.song-page.info.title' | translate }}</h4>
        <p class="song__info-descr">Дитяча щедрівка з примовками. Поширення колядок і щедрівок з таким ритмом див. на карті далі.</p>
      </div>
      <div class="song__info-box">
        <div>
          <span class="song__info-title">{{ 'science.song-page.info.place' | translate }}</span>
          <p class="song__info-detail">{{ song.location.ethnographic_district }}</p>
        </div>
        <div>
          <span class="song__info-title">{{ 'science.song-page.info.region' | translate }}</span>
          <p class="song__info-detail">{{ song.location.region }}</p>
        </div>
        <div>
          <span class="song__info-title">{{ 'science.song-page.info.record' | translate }}</span>
          <p class="song__info-detail">{{ song.collectors }}</p>
        </div>
        <div>
          <span class="song__info-title">{{ 'science.song-page.info.performers' | translate }}</span>
          <p class="song__info-detail">{{ song.performers }}</p>
        </div>
      </div>
    </div>
    <div class="song__box song__video">
      <div><h4 class="song__title-sub">{{ 'science.song-page.video' | translate }}</h4></div>
      <div class="song__video-box">
        <div class="song__video-container" style="background-image: url({{ staticVideoImgUrl }});"></div>
      </div>
    </div>
    <div class="song__box song__map">
      <div>
        <h4 class="song__title-sub">{{ 'science.song-page.map' | translate }}</h4>
        <p class="song__info-descr">Коментар до карти</p>
      </div>
      <div>
        <div class="song__map-container" style="background-image: url('./assets/img/Map.jpg');"></div>
      </div>
    </div>
  </section>
</div>
